<!doctype html>
<html lang="en">

<head>
    <title>Title</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <style>
        * {
            margin: 0px;
            padding: 0px;
        }

        table {
            border-collapse: collapse;
        }

        table,
        td,
        th {
            border: 2px solid black;
        }

        th {
            height: 50px;
        }

        .img-responsive {
            border: none;
            transition: all .3s;
        }

        .img-responsive.active {
            border: solid 5px red;
            box-shadow: 0 0 20px red;
            transition: all 0s;
        }

    
    </style>
</head>

<body>
    <div class="kalp">

        <div class="container-fluid">
            <div class="row mx-auto">
                <img id="A1" class="col-1 pt-5" name="pic-7" src=".\image\bird.jpg" />
                <img id="A2" class="col-1 pt-5" name="pic-1" src=".\image\bird.jpg" />
                <img id="A3" class="col-1 pt-5" name="pic-3" src=".\image\bird.jpg" />
                <img id="A4" class="col-1 pt-5" name="pic-4" src=".\image\bird.jpg" />
                <img id="A5" class="col-1 pt-5" name="pic-2" src=".\image\bird.jpg" />
                <img id="A6" class="col-1 pt-5" name="pic-0" src=".\image\bird.jpg" />
                <img id="A7" class="col-1 pt-5" name="pic-6" src=".\image\bird.jpg" />
                <img id="A8" class="col-1 pt-5" name="pic-6" src=".\image\bird.jpg" />
                <img id="A9" class="col-1 pt-5" name="pic-5" src=".\image\bird.jpg" />
                <img id="A10" class="col-1 pt-5" name="pic-0" src=".\image\bird.jpg" />
                <img id="A11" class="col-1 pt-5" name="pic-6" src=".\image\bird.jpg" />
                <img id="A12" class="col-1 pt-5" name="pic-7" src=".\image\bird.jpg" />
            </div>
        </div>

        <div class="container-fluid">
            <div class="row mx-auto">
                <div class="col-1 ">
                    <img id="A32" class="col-12 pt-5" name="pic-1" src=".\image\bird.jpg" />
                    <img id="A31" class="col-12 pt-5" name="pic-0" src=".\image\bird.jpg" />
                    <img id="A30" class="col-12 pt-5" name="pic-5" src=".\image\bird.jpg" />
                    <img id="A29" class="col-12 pt-5" name="pic-6" src=".\image\bird.jpg" />
                </div>
                <div class="col-10">
                    <div class="container">
                        <div class="row">
                            
                                <table class="table  text-center">
                                    <tr>
                                        <td>100</td>
                                        <td>50</td>
                                        <td>40</td>
                                        <td>30</td>
                                        <td>20</td>
                                        <td>15</td>
                                        <td>10</td>
                                        <td>5</td>
                                    </tr>
                                    <tr>
                                        <th>
                                            <img src=".\image\bird.jpg" alt='' style="width:120px; height:120px">
                                        </th>
                                        <th>
                                            <img src=".\image\bird.jpg" alt='' style="width:120px; height:120px">
                                        </th>
                                        <th>
                                            <img src=".\image\bird.jpg" alt='' style="width:120px; height:120px">
                                        </th>
                                        <th>
                                            <img src=".\image\bird.jpg" alt='' style="width:120px; height:120px">
                                        </th>
                                        <th>
                                            <img src=".\image\bird.jpg" alt='' style="width:120px; height:120px">
                                        </th>
                                        <th>
                                            <img src=".\image\bird.jpg" alt='' style="width:120px; height:120px">
                                        </th>
                                        <th>
                                            <img src=".\image\bird.jpg" alt='' style="width:120px; height:120px">
                                        </th>
                                        <th>
                                            <img src=".\image\bird.jpg" alt='' style="width:120px; height:120px">
                                        </th>
                                    </tr>
                                    <tr style="background-color:brown">
                                        <td>
                                            <span id="bet-0">0</span>
                                        </td>
                                        <td>
                                            <span id="bet-1">0</span>
                                        </td>
                                        <td>
                                            <span id="bet-2">0</span>
                                        </td>
                                        <td>
                                            <span id="bet-3">0</span>
                                        </td>
                                        <td>
                                            <span id="bet-4">0</span>
                                        </td>
                                        <td>
                                            <span id="bet-5">0</span>
                                        </td>
                                        <td>
                                            <span id="bet-6">0</span>
                                        </td>
                                        <td>
                                            <span id="bet-7">0</span>
                                        </td>
                                    </tr>
                                    <tr>
                                        <th>
                                            <div class="col-12  pl-1 pr-1">
                                                <button type="button" name="bet-0" value="100"
                                                    class="btn btn-secondary btn-lg btn-block">押</button>
                                            </div>
                                        </th>
                                        <th>
                                            <div class="col-12  pl-0 pr-1">
                                                <button type="button" name="bet-1" value="50"
                                                    class="btn btn-secondary btn-lg btn-block">押</button>
                                            </div>
                                        </th>
                                        <th>
                                            <div class="col-12  pl-0 pr-1">
                                                <button type="button" name="bet-2" value="40"
                                                    class="btn btn-secondary btn-lg btn-block">押</button>
                                            </div>
                                        </th>
                                        <th>
                                            <div class="col-12  pl-0 pr-1">
                                                <button type="button" name="bet-3" value="30"
                                                    class="btn btn-secondary btn-lg btn-block">押</button>
                                            </div>
                                        </th>
                                        <th>
                                            <div class="col-12  pl-0 pr-1">
                                                <button type="button" name="bet-4" value="20"
                                                    class="btn btn-secondary btn-lg btn-block">押</button>
                                            </div>
                                        </th>
                                        <th>
                                            <div class="col-12  pl-0 pr-1">
                                                <button type="button" name="bet-5" value="15"
                                                    class="btn btn-secondary btn-lg btn-block">押</button>
                                            </div>
                                        </th>
                                        <th>
                                            <div class="col-12  pl-0 pr-1">
                                                <button type="button" name="bet-6" value="10"
                                                    class="btn btn-secondary btn-lg btn-block">押</button>
                                            </div>
                                        </th>
                                        <th>
                                            <div class="col-12  pl-0 pr-1">
                                                <button type="button" name="bet-7" value="5"
                                                    class="btn btn-secondary btn-lg btn-block">押</button>
                                            </div>
                                        </th>
                                    </tr>
                                </table>
                           
                      
                               <button id="go" type="button" class="btn btn-primary col-1 ">Go !!!</button>
                                                 
                                <button id="clear" type="button" class="btn btn-primary col-1  ">清除 !!!</button>
                          
                        </div>
                    
                        <div class="row mt-2">                          
                            <div class="col-10 mx-auto">
                                <table class="table  text-center">
                                    <tr>
                                        <td>總金額:</td>
                                        <td>
                                            <span id="totalmoney"></span>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>獲利:</td>
                                        <td>
                                            <span id="earnmoney"></span>
                                        </td>
                                    </tr>
                                </table>
                            </div>                         
                        </div>

                    </div>
                </div>
                <div class="col-1">
                    <img id="A13" class="col-12 pt-5" name="pic-7" src=".\image\bird.jpg" />
                    <img id="A14" class="col-12 pt-5" name="pic-2" src=".\image\bird.jpg" />
                    <img id="A15" class="col-12 pt-5" name="pic-5" src=".\image\bird.jpg" />
                    <img id="A16" class="col-12 pt-5" name="pic-0" src=".\image\bird.jpg" />
                </div>
            </div>
        </div>

        <div class="container-fluid">
            <div class="row mx-auto">
                <img id="A28" class="col-1 pt-5" name="pic-6" src="./image/bird.jpg" />
                <img id="A27" class="col-1 pt-5" name="pic-2" src="./image/bird.jpg" />
                <img id="A26" class="col-1 pt-5" name="pic-3" src="./image/bird.jpg" />
                <img id="A25" class="col-1 pt-5" name="pic-5" src="./image/bird.jpg" />
                <img id="A24" class="col-1 pt-5" name="pic-0" src="./image/bird.jpg" />
                <img id="A23" class="col-1 pt-5" name="pic-2" src="./image/bird.jpg" />
                <img id="A22" class="col-1 pt-5" name="pic-1" src="./image/bird.jpg" />
                <img id="A21" class="col-1 pt-5" name="pic-5" src="./image/bird.jpg" />
                <img id="A20" class="col-1 pt-5" name="pic-3" src="./image/bird.jpg" />
                <img id="A19" class="col-1 pt-5" name="pic-3" src="./image/bird.jpg" />
                <img id="A18" class="col-1 pt-5" name="pic-2" src="./image/bird.jpg" />
                <img id="A17" class="col-1 pt-5" name="pic-1" src="./image/bird.jpg" />
            </div>
        </div>

    </div>





    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>
    <script>
        let totalMoney = 1000; //總金額1000元
        let earnMoney = 0; //獲利0元
        var bricks = [];
        var currentBrick = 0;
        var forwardSteps = 0;
        var betnumber = [0, 0, 0, 0, 0, 0, 0, 0]
        var betmoney = [100, 50, 40, 30, 20, 15, 10, 5]

        let totalMoneyElement = document.getElementById('totalmoney')
        let earnMoneyElement = document.getElementById('earnmoney')

        window.onload = function () {
            totalMoneyElement.textContent = totalMoney;
            earnMoneyElement.textContent = earnMoney;
            setClick()
        }
        //押 
        function setClick() {
            var i = 0;
            for (var i = 0; i <= 7; i++) {
                var button = document.querySelector('button[name=bet-' + i + ']')
                if (!button) {
                    return;
                }
                button.onclick = function () {
                    let which = this.name.split('-')[1];
                    betnumber[which] += 1;
                    let a = betmoney[which]
                    totalMoney -= a;
                    if (totalMoney < 0) {
                        this.disabled = true
                        totalMoney += a
                        betnumber[which] -= 1;
                    }
                    totalMoneyElement.textContent = totalMoney;
                    earnMoneyElement.textContent = earnMoney;
                    document.getElementById(this.name).textContent = betnumber[which];
                }
            }
        }

        function init() {
            var n = 0;

            while (true) {
                ++n;
                var brick = document.getElementById("A" + n);

                if (!brick) {
                    break;
                }
                //  brick.src = brick.src;
                bricks.push(brick);
              
            }

            document.getElementById("go").onclick = function () {

                document.getElementById('go').disabled = true;
                document.getElementById('clear').disabled = true;        
                forwardSteps = (bricks.length * 5);
                forwardSteps += Math.floor(Math.random() * bricks.length);
                //setTimeout(forwardBrick, 50)
                forwardBrick();
            }
        }
        var azx;
        //轉圈 + 慘影
        function forwardBrick() {
            bricks[currentBrick].className = "img-responsive";
            currentBrick++;
            if (currentBrick >= bricks.length) {
                currentBrick = 0;
            }

            bricks[currentBrick].className = "img-responsive active";

            if (--forwardSteps > 0) {
                setTimeout(forwardBrick, 20);
            }
            if (forwardSteps == 0) {
                getK(bricks[currentBrick]);
            }
        }
        //計算
        function getK(z) {

            var i = z.name.split('-')[1];
            var Luck = 0;
            Luck = betnumber[i] * betmoney[i];
            earnMoney = Luck;
            totalMoney = totalMoney + Luck;
            clearAll();
            $('#AllMoney').text(totalMoney);
            $('#LuckMoney').text(earnMoney);
            $('#go').prop('disabled', false);
            $('#clear').prop('disabled', false);
        }

        function clearAll() {
            betnumber = [0, 0, 0, 0, 0, 0, 0, 0];
            $('#AllMoney').text(totalMoney);
            $('#LuckMoney').text("0");
            for (var i = 0; i < 8; i++) {
                $('#bet-' + i).text("0")
            }
        }
        $('#clear').click(function () {
            var tmp = 0;
            for (var i = 0; i < betnumber.length; i++) {
                tmp += betnumber[i]
            }
            totalMoney += tmp;
            clearAll();
        })

        init();
    </script>
</body>

</html>